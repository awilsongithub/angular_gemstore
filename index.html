<!--
    ANGULAR NOTES
    directives: html annotations that trigger js
    controllers: add behavior
    expressions: how to display values
    filters: | filter:options, -price (descending)
    ng-src: so expr evals before getting img
    ng-class: conditionally applies if call returns true
    ng-click: call controller function to set properties etc.
    cross-origin error: when loading templates: fix by serving files using: python -m SimpleHTTPServer command.
    directives with templates and controllers: 1.remove html to sep. template.html 2.replace it w custom directive tag referencing the directive. 3.write app.directive on js module including templateUrl, controller (as anonymous function) and controllerAs property with alias name.

-->

<!DOCTYPE html>
<html ng-app='gemStore'>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src='angular.min.js'></script>
    <script type="text/javascript" src='jquery-1.6.2.min.js'></script>
    <script type="text/javascript" src='app.js'></script>
    <!-- note: scripts.js script tag at bottom of page.... -->
</head>

<body ng-controller="StoreController as store">

<!-- NAVIGATION WITH SEARCH BOXES -->
<nav role="navigation">
  <div class="container">
     <h1>Flatlander Gem Store</h1>
     <fieldset class='form-group'>
         <input id='nav-search' type="text" class='form-control' placeholder='Search for gems...'>
         <input id='nav-search-go' type="submit" class='btn btn-primary' value="Go">
     </fieldset>
  </div>
</nav>

<!-- MAIN CONTAINER -->
<div class="container">

    <!-- PRODUCTS LIST -->
    <ul class='list-group'>
        <li class='list-group-item flex-container' ng-repeat="product in store.products | orderBy:'price'" ng-hide='product.soldOut'>

            <!-- IMAGE -->
            <div id='image-div' class="flex-item">
                <img id='product-image' class='flex-item' ng-src="{{product.images[0]}}" />
            </div>
            <!-- TEXT -->
            <div class="flex-item">
                <h3 class='pull-left'>{{product.name}}</h3>
                <button id='add-to-cart-btn' class='pull-right btn' ng-show='product.canPurchase'>Add to Cart</button>
                <p id='product-price'>{{product.price | currency}}</p>

                <!-- PANEL/TAB NAVIGATION -->
                <product-panels></product-panels>

            </div>

        </li>
    </ul>

</div>

<script type="text/javascript" src='scripts.js'></script>
</body>
</html>
